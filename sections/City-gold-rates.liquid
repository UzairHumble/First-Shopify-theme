=
  


{{ section.settings.custom_liquid }}
{% schema %}
{
   "name": "Cities Gold Rate",
   "settings": [
   {
      "type": "liquid",
      "id": "custom_liquid",
      "label": "Cities Gold Rate",
      "info": "Add app snippets or other liquid code to create advanced customizations."
   }],
   "presets": [
   {
      "name": "Cities Gold Rate"
   }]
}
{% endschema %}

<h1>Develop by <a style="text-decoration:none" href="https://github.com/UzairHumble">Uzair Malik</a></h1>

<!-- karachi table -->

<!-- <div class="main-head" style="margin: 70px;"> -->
  <!-- Today Gold Rate Div -->
  <!-- <div class="head-1" style="margin: 50px;">
    <h2 style="text-align: left;" data-mce-style="text-align: left;"><b>Today Gold Rate&nbsp;</b></h2> -->
<!-- 
    <iframe
      class="frame-1"
      src="https://docs.google.com/spreadsheets/d/e/2PACX-1vSpcrDqeHiHaOmpZuLvtTEjCqln6-KlMAypVpSOKCX3B2067Q67j6WIC_KCJqD0dI45HdypmDIvUMwH/pubhtml?gid=1883462982&amp;single=true&amp;widget=true&amp;headers=false"
      width="800"
      height="300"
    ></iframe> -->

    <!-- <p class="mytext-1" style="text-align: left;">
      Today's Gold Prices in Karachi reveal that 24K gold is priced at 
      <span data-mce-fragment="1">Rs.</span>
      <span data-mce-fragment="1">&nbsp;</span>for 10 grams and&nbsp;
      <span data-mce-fragment="1">Rs.213609.6 </span>per
      tola, based on the data as per today, from the Karachi
      <a href="https://www.investing.com/" title="https://www.investing.com/">Jewelers</a> Association. Keep in mind
      these rates are subject to change following international market trends.&nbsp;
    </p> -->
  <!-- </div> -->

  
<!-- pakistan gold performance last i year -->
  <!-- Gold Performance Div -->
  <!-- <div class="head-2" style="margin: 50px;">
    <b class="head-text">Gold Performance in Karachi (Last 1 year)</b>

    <p class="mytext-2">
      This table shows the gold performance in Karachi over the last 1 year, with the difference in price (in Pakistani
      Rupees) and percentage change from the previous time period.
    </p>
    <table
      style="width:600px"
      class="year-sheet-1"
      xmlns="http://www.w3.org/1999/xhtml"
      cellspacing="0"
      cellpadding="0"
      dir="ltr"
      border="1"
      data-sheets-root="1"
      data-mce-fragment="1"
    >
      <colgroup data-mce-fragment="1">
        <col width="100" data-mce-fragment="1">
        <col width="122" data-mce-fragment="1">
        <col width="100" data-mce-fragment="1">
      </colgroup>
      <tbody class="year-sheet-2" data-mce-fragment="1">
        <tr data-mce-fragment="1">
          <td data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;Period&quot;}" data-mce-fragment="1">
            <strong>Period</strong>
          </td>
          <td data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;Difference (PKR)&quot;}" data-mce-fragment="1">
            <strong>Difference (PKR)</strong>
          </td>
          <td data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;Difference (%)&quot;}" data-mce-fragment="1">
            <div data-mce-fragment="1">
              <div data-mce-fragment="1"><strong>Difference (%)</strong></div>
            </div>
          </td>
        </tr>
        <tr data-mce-fragment="1">
          <td
            data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;Yesterday Difference&quot;}"
            data-mce-fragment="1"
          >
            Yesterday Difference
          </td>
          <td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:0}" data-mce-fragment="1">0</td>
          <td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:0}" data-mce-fragment="1">0</td>
        </tr>
        <tr data-mce-fragment="1">
          <td
            data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;Last Month Difference&quot;}"
            data-mce-fragment="1"
          >
            Last Month Difference
          </td>
          <td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:8350}" data-mce-fragment="1">8350</td>
          <td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:3.47}" data-mce-fragment="1">3.47</td>
        </tr>
        <tr data-mce-fragment="1">
          <td
            data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;Last Year Difference&quot;}"
            data-mce-fragment="1"
          >
            Last Year Difference
          </td>
          <td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:42350}" data-mce-fragment="1">42350</td>
          <td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:20.48}" data-mce-fragment="1">20.48</td>
        </tr>
      </tbody>
    </table>
  </div> -->
  
<!-- Graph for 1 ounce gold price in pakistan -->
  {%- comment -%} Graph {%- endcomment -%}
<!-- 
  <div class="head-3" style="margin: 50px;">
    <h3><b>Gold Rate in Karachi Today</b></h3>
    <p>
      This upswing can be attributed to several contributing factors, including mounting
      <a href="http://www.tribune.com.pk/" title="http://www.tribune.com.pk/"> inflation rates</a>, heightened demand
      for gold as a secure asset, and a constricted supply of gold.
    </p>

    <p>
      It's important to recognize that the gold market is inherently open to fluctuations, influenced by diverse factors
      such as global
      <a href="https://www.pakistaneconomist.com/" title="https://www.pakistaneconomist.com/">economic</a> conditions,
      shifts in interest rates, currency value fluctuations, and geopolitical events. However, the overarching trend for
      gold prices is indicative of a consistent upward trend.
    </p>

    <p>
      <span style="font-weight: 400;">To further visualize these trends and gain a more lucid understanding, </span
      ><span style="font-weight: 400;"
        >the following graph offers a concise overview of gold rates in Karachi over the past 30 days, detailing the
        variations across different purities.
      </span>
    </p>

    <p>
      <span style="font-weight: 400;"
        >By observing the trends, one can estimate the daily cost of gold, whether in terms of grams or the traditional
        unit of 'tola' commonly used in Pakistan.&nbsp;</span
      >
    </p>

    <iframe
      height="400"
      width="89%"
      src="https://goldbroker.com/widget/live/XAU?currency=USD&amp;height=600"
      frameborder="0"
      scrolling="no"
    >
      The line graph above presents a detailed insight into the daily gold rates in Karachi over the span of 30 days,
      ranging from 15nd October 2023 to 16th November 2023. The statistics provided cover various karats and
      measurements of gold, thus giving a comprehensive view of the gold market in Karachi during this period.</iframe
    >
  </div>

  
Pakistani Cities gold price table
  <div class="head-4" style="margin: 50px;">
    <h2><span style="font-weight: 400;">Today Gold Prices in Major Cities of Pakistan</span></h2>

    <table
      style="width:900px;"
      style="margin:40px;"
      xmlns="http://www.w3.org/1999/xhtml"
      cellspacing="0"
      cellpadding="0"
      dir="ltr"
      border="1"
      data-sheets-root="1"
      data-mce-fragment="1"
    >
      <colgroup data-mce-fragment="1">
        <col width="105" data-mce-fragment="1">
        <col width="100" data-mce-fragment="1">
      </colgroup>
      <tbody data-mce-fragment="1">
        <tr data-mce-fragment="1">
          <td data-sheets-value='{"1":2,"2":"Top Cities"}' data-mce-fragment="1">
            <strong>Top Cities</strong>
          </td>
          <td
            data-sheets-value='{"1":2,"2":"Visit for Updared Price"}'
            data-mce-fragment="1"
          >
            <div data-mce-fragment="1">
              <div data-mce-fragment="1">
                <strong>Visit for Updated Price</strong>
              </div>
            </div>
          </td>
        </tr>
        <tr data-mce-fragment="1">
          <td data-sheets-value='{"1":2,"2":"Islamabad"}' data-mce-fragment="1">Islamabad</td>
          <td
            data-sheets-value='{"1":2,"2":"Gold Rate in Islamabad"}'
            data-sheets-hyperlink="https://alita.pk/pages/gold-rate-in-islamabad"
            data-mce-fragment="1"
          >
            <div data-mce-fragment="1">
              <div data-mce-fragment="1">
                <a
                  class="in-cell-link"
                  href="https://alita.pk/pages/gold-rate-in-islamabad"
                  data-mce-fragment="1"
                  data-mce-href="https://alita.pk/pages/gold-rate-in-islamabad"
                  target="_blank"
                  >Gold Rate in Islamabad</a
                >
              </div>
            </div>
          </td>
        </tr>
        <tr data-mce-fragment="1">
          <td data-sheets-value='{"1":2,"2":"Karachi"}' data-mce-fragment="1">Karachi</td>
          <td
            data-sheets-value='{"1":2,"2":"Gold Rate in Karachi"}'
            data-sheets-hyperlink="https://alita.pk/pages/gold-karachi"
            data-mce-fragment="1"
          >
            <div data-mce-fragment="1">
              <div data-mce-fragment="1">
                <a
                  class="in-cell-link"
                  href="https://alita.pk/pages/gold-karachi"
                  data-mce-fragment="1"
                  data-mce-href="https://alita.pk/pages/gold-karachi"
                  target="_blank"
                  >Gold Rate in Karachi</a
                >
              </div>
            </div>
          </td>
        </tr>
        <tr data-mce-fragment="1">
          <td data-sheets-value='{"1":2,"2":"Faisalabad"}' data-mce-fragment="1">Faisalabad</td>
          <td
            data-sheets-value='{"1":2,"2":"Gold Rate in Faisalabad"}'
            data-sheets-hyperlink="https://alita.pk/pages/gold-rate-in-faisalabad"
            data-mce-fragment="1"
          >
            <div data-mce-fragment="1">
              <div data-mce-fragment="1">
                <a
                  class="in-cell-link"
                  href="https://alita.pk/pages/gold-rate-in-faisalabad"
                  data-mce-fragment="1"
                  data-mce-href="https://alita.pk/pages/gold-rate-in-faisalabad"
                  target="_blank"
                  >Gold Rate in Faisalabad</a
                >
              </div>
            </div>
          </td>
        </tr>


        bbbbbbbbbbbbbbbbbbbbbbbbssssssssssssssssssssssssssssssssss
        <tr data-mce-fragment="1">
          <td data-sheets-value='{"1":2,"2":"Quetta"}' data-mce-fragment="1">Quetta</td>
          <td
            data-sheets-value='{"1":2,"2":"Gold Rate in Quetta"}'
            data-sheets-hyperlink="https://alita.pk/pages/gold-rate-in-quetta"
            data-mce-fragment="1"
          >
            <div data-mce-fragment="1">
              <div data-mce-fragment="1">
                <a
                  class="in-cell-link"
                  href="https://alita.pk/pages/gold-rate-in-quetta"
                  data-mce-fragment="1"
                  data-mce-href="https://alita.pk/pages/gold-rate-in-quetta"
                  target="_blank"
                  >Gold Rate in Quetta</a
                >
              </div>
            </div>
          </td>
        </tr>
        <tr data-mce-fragment="1">
          <td data-sheets-value='{"1":2,"2":"Lahore"}' data-mce-fragment="1">Lahore</td>
          <td
            data-sheets-value='{"1":2,"2":"Gold Rate in Lahore"}'
            data-sheets-hyperlink="https://alita.pk/pages/gold-rate-in-lahore"
            data-mce-fragment="1"
          >
            <div data-mce-fragment="1">
              <div data-mce-fragment="1">
                <a
                  class="in-cell-link"
                  href="https://alita.pk/pages/gold-rate-in-lahore"
                  data-mce-fragment="1"
                  data-mce-href="https://alita.pk/pages/gold-rate-in-lahore"
                  target="_blank"
                  >Gold Rate in Lahore</a
                >
              </div>
            </div>
          </td>
        </tr>
        <tr data-mce-fragment="1">
          <td data-sheets-value='{"1":2,"2":"Peshawar"}' data-mce-fragment="1">Peshawar</td>
          <td
            data-sheets-value='{"1":2,"2":"Gold Rate in Peshawer"}'
            data-sheets-hyperlink="https://alita.pk/pages/gold-rate-in-peshawar"
            data-mce-fragment="1"
          >
            <div data-mce-fragment="1">
              <div data-mce-fragment="1">
                <a
                  class="in-cell-link"
                  href="https://alita.pk/pages/gold-rate-in-peshawar"
                  data-mce-fragment="1"
                  data-mce-href="https://alita.pk/pages/gold-rate-in-peshawar"
                  target="_blank"
                  >Gold Rate in Peshawer</a
                >
              </div>
            </div>
          </td>
        </tr>
        <tr data-mce-fragment="1">
          <td data-sheets-value='{"1":2,"2":"Gilgit"}' data-mce-fragment="1">Gilgit</td>
          <td
            data-sheets-value='{"1":2,"2":"Gold Rate in Gilgit"}'
            data-sheets-hyperlink="https://alita.pk/pages/gold-rate-in-gilgit"
            data-mce-fragment="1"
          >
            <div data-mce-fragment="1">
              <div data-mce-fragment="1">
                <a
                  class="in-cell-link"
                  href="https://alita.pk/pages/gold-rate-in-gilgit"
                  data-mce-fragment="1"
                  data-mce-href="https://alita.pk/pages/gold-rate-in-gilgit"
                  target="_blank"
                  >Gold Rate in Gilgit</a
                >
              </div>
            </div>
          </td>
        </tr>
        <tr data-mce-fragment="1">
          <td data-sheets-value='{"1":2,"2":"Sailkot"}' data-mce-fragment="1">Sailkot</td>
          <td
            data-sheets-value='{"1":2,"2":"Gold Rate in Sailkot"}'
            data-sheets-hyperlink="https://alita.pk/pages/gold-rate-in-sialkot"
            data-mce-fragment="1"
          >
            <div data-mce-fragment="1">
              <div data-mce-fragment="1">
                <a
                  class="in-cell-link"
                  href="https://alita.pk/pages/gold-rate-in-sialkot"
                  data-mce-fragment="1"
                  data-mce-href="https://alita.pk/pages/gold-rate-in-sialkot"
                  target="_blank"
                  >Gold Rate in Sailkot</a
                >
              </div>
            </div>
          </td>
        </tr>
        <tr data-mce-fragment="1">
          <td data-sheets-value='{"1":2,"2":"Skardu"}' data-mce-fragment="1">Skardu</td>
          <td
            data-sheets-value='{"1":2,"2":"Gold Rate in Skardu"}'
            data-sheets-hyperlink="https://alita.pk/pages/gold-rate-in-skardu"
            data-mce-fragment="1"
          >
            <div data-mce-fragment="1">
              <div data-mce-fragment="1">
                <a
                  class="in-cell-link"
                  href="https://alita.pk/pages/gold-rate-in-skardu"
                  data-mce-fragment="1"
                  data-mce-href="https://alita.pk/pages/gold-rate-in-skardu"
                  target="_blank"
                  >Gold Rate in Skardu</a
                >
              </div>
            </div>
          </td>
        </tr>
        <tr data-mce-fragment="1">
          <td data-sheets-value='{"1":2,"2":"Sukkur"}' data-mce-fragment="1">Sukkur</td>
          <td
            data-sheets-value='{"1":2,"2":"Gold Rate in Sakkur"}'
            data-sheets-hyperlink="https://alita.pk/pages/gold-rate-in-sukkur"
            data-mce-fragment="1"
          >
            <div data-mce-fragment="1">
              <div data-mce-fragment="1">
                <a
                  class="in-cell-link"
                  href="https://alita.pk/pages/gold-rate-in-sukkur"
                  data-mce-fragment="1"
                  data-mce-href="https://alita.pk/pages/gold-rate-in-sukkur"
                  target="_blank"
                  >Gold Rate in Sakkur</a
                >
              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div> -->



    <!-- custom-section.liquid -->
<section class="custom-section">
  <div class="container">
    {% if section.settings.heading != blank %}
      <h2>{{ section.settings.heading }}</h2>
    {% endif %}

    <p>{{ section.settings.description }}</p>
    
    <div class="custom-content">
      <!-- Add any custom HTML or dynamic content here -->
      <!DOCTYPE html>
<html lang="en">
  
<head>
    <link rel="stylesheet" type="text/css" href="{{ 'cities-gold-rates.css' | asset_url }}">
</head>
  <body>
    <!-- <div class="section mb_25">
    <div class="section_title">
        <div class="title">Gold Price Today in Major Cities of Pakistan</div>
    </div>
    <div class="table-responsive">
<tbody>
    <tr data-city="karachi">
        <th><a href="/finance/gold_rate/karachi">Karachi</a></th>
        <td class="txt_blue" id="karachi-24k" data-label="Gold 24K Tola">--</td>
        <td class="txt_green" id="karachi-22k" data-label="Gold 22K Tola">--</td>
    </tr>
    <tr data-city="islamabad">
        <th><a href="/finance/gold_rate/islamabad">Islamabad</a></th>
        <td class="txt_blue" id="islamabad-24k" data-label="Gold 24K Tola">--</td>
        <td class="txt_green" id="islamabad-22k" data-label="Gold 22K Tola">--</td>
    </tr>
    <tr data-city="lahore">
        <th><a href="/finance/gold_rate/lahore">Lahore</a></th>
        <td class="txt_blue" id="lahore-24k" data-label="Gold 24K Tola">--</td>
        <td class="txt_green" id="lahore-22k" data-label="Gold 22K Tola">--</td>
    </tr>
    <tr data-city="multan">
        <th><a href="/finance/gold_rate/multan">Multan</a></th>
        <td class="txt_blue" id="multan-24k" data-label="Gold 24K Tola">--</td>
        <td class="txt_green" id="multan-22k" data-label="Gold 22K Tola">--</td>
    </tr>
    <tr data-city="peshawar">
        <th><a href="/finance/gold_rate/peshawar">Peshawar</a></th>
        <td class="txt_blue" id="peshawar-24k" data-label="Gold 24K Tola">--</td>
        <td class="txt_green" id="peshawar-22k" data-label="Gold 22K Tola">--</td>
    </tr>
</tbody>


    </div>
    </div>

    
    <script>
      async function fetchCityGoldRates() {
    const apiKey = 'XNA5TVIOQDQLUESMEHCC761SMEHCC';
    const endpoint = `https://api.metals.dev/v1/latest?api_key=${apiKey}&currency=PKR&unit=g`;

    try {
        const response = await fetch(endpoint);

        if (!response.ok) {
            console.error(`HTTP error! Status: ${response.status}`);
            alert('Failed to fetch gold rates. Please try again later.');
            return;
        }

        const data = await response.json();
        console.log('API Response:', data);

        if (!data.metals || !data.metals.gold) {
            console.error('Gold rate data missing in API response.');
            alert('Invalid API response. Please try again later.');
            return;
        }

        const goldRatePerGram = data.metals.gold; // Gold price per gram
        console.log('Gold Rate (per gram):', goldRatePerGram);

        // Conversion for different purities
        const conversions = {
            '24k': 1,
            '22k': 0.916,
        };

        const cities = ['karachi', 'islamabad', 'lahore', 'multan', 'peshawar'];

        cities.forEach((city) => {
            for (const [purity, multiplier] of Object.entries(conversions)) {
                const perTola = (goldRatePerGram * multiplier * 11.664).toFixed(2);

                const cellId = `${city}-${purity}`;
                const cell = document.getElementById(cellId);

                if (cell) {
                    cell.textContent = `Rs. ${perTola}`;
                } else {
                    console.warn(`Cell for ${city} (${purity}) not found.`);
                }
            }
        });
    } catch (error) {
        console.error('Error fetching gold rates:', error);
        alert('An error occurred while fetching gold rates. Please try again later.');
    }
}

// Fetch city gold rates immediately and refresh every minute
fetchCityGoldRates();
setInterval(fetchCityGoldRates, 60000);

    </script> -->


    <div class="section mb_25">
    <div class="section_title">
        <div class="title">Gold Price Today in Major Cities of Pakistan</div>
    </div>
    <div class="table-responsive">
        <table class="table" id="gold-price-table">
            <thead>
                <tr>
                    <th scope="col">City</th>
                    <th scope="col">Gold 24K Tola</th>
                    <th scope="col">Gold 22K Tola</th>
                </tr>
            </thead>
            <tbody>
                <!-- Table rows will be dynamically added here -->
            </tbody>
        </table>
    </div>
</div>

    <script>
const cities = ["Karachi", "Islamabad", "Lahore", "Multan", "Peshawar"];
const goldTableBody = document.querySelector("#gold-price-table tbody");

const apiEndpoint = "https://api.metals.dev/v1/latest";
const apiKey = "XNA5TVIOQDQLUESMEHCC761SMEHCC";

// Conversion factors for tola and karat differences
const tolaConversionFactor = 11.664;
const karat22ConversionFactor = 0.916; // 22K gold = 91.6% of 24K gold

async function fetchGoldPrices() {
    try {
        const response = await fetch(`${apiEndpoint}?api_key=${apiKey}&currency=PKR&unit=g`);
        const data = await response.json();

        if (data.status !== "success") {
            throw new Error("Failed to fetch gold prices");
        }

        // Extract gold rate per gram in PKR
        const goldRatePerGram = data.metals.gold;

        // Populate the table with dynamically calculated prices
        cities.forEach((city) => {
            const gold24KPerTola = (goldRatePerGram * tolaConversionFactor).toFixed(2);
            const gold22KPerTola = (gold24KPerTola * karat22ConversionFactor).toFixed(2);

            const row = `
                <tr>
                  
                    <span ${city.toLowerCase()}">${city}></span>
                    <td class="txt_blue">Rs. ${gold24KPerTola}</td>
                    <td class="txt_green">Rs. ${gold22KPerTola}</td>
                </tr>
            `;
            goldTableBody.insertAdjacentHTML("beforeend", row);
        });
    } catch (error) {
        console.error("Error fetching or processing gold prices:", error);
    }
}

// Fetch and populate prices on page load
fetchGoldPrices();

      
    </script>
  </body>
    </html>

















      
    </div>
  </div>
</section>

<style>
  .custom-section {
    padding: 50px 0;
    background-color: #f9f9f9;
  }
  .custom-section h2 {
    text-align: center;
    margin-bottom: 20px;
  }
</style>

  
